@import model.SearchData
@import model.SearchResults
@import play.mvc.Http.Request
@(tweetSearchResults: Seq[SearchResults])(implicit assetsFinder: AssetsFinder, request: Request, messages: play.i18n.Messages)


@main("") {

    <section class="w3-container w3-center">
    @for((tsr,gi) <- tweetSearchResults.zipWithIndex) {

        <h3>Search Keyword: <a href="@routes.MainController.tweetWords(gi)">@tsr.getKeyword</a>, Sentiment:
            @if(tsr.getOverallResult.equals(":-)")){
                Happy
            <i class="fas fa-smile-beam" style="font-size: 30px;
                color: green;"></i>
        }
            @if(tsr.getOverallResult.equals(":-(")){
                Sad
                <i class="fas fa-frown" style="font-size: 30px;
                    color: red;"></i>
            }
            @if(tsr.getOverallResult.equals(":-|")){
                Neutral
                <i class="fas fa-meh" style="font-size: 30px;
                    color: orange;"></i>
            }
                 </h3>
        <hr/>
        @for((tweet, index) <- tsr.getTweets.zipWithIndex) {

            @if(index < 10) {
                <div class="w3-card-4 w3-center w3-round-large" style="width:50%;  margin: 10px; display:inline-block; background: white;">

                    <div class="w3-row">

                        <div class="w3-center w3-col" style="width: 20%">
                            <p class="w3-text-gray">User</p>
                            <img src="@tweet.getUser.getUserProfileImage" alt="Avatar" class="w3-circle"><br/>
                            <p><a href="@routes.MainController.userProfile(tweet.getUser().getUserId())">@tweet.getUser.getUserScreenName</a></p>
                        </div>

                        <div class="w3-center w3-col" style="width: 60%">
                            <p class="w3-text-gray">Tweet</p>
                            <p class="w3-left">Text: @tweet.getText</p><br/>
                            <p class="w3-left"> HashTags:
                                @for((tag, index) <- tweet.getHashTags.zipWithIndex) {

                                    @if( index == ( tweet.getHashTags.size() - 1 )) {
                                        <a href="@routes.MainController.searchHashTags(tag)">@tag</a>
                                    } else {
                                        <a href="@routes.MainController.searchHashTags(tag)">@tag</a> ,
                                    }
                                }
                            </p>
                        </div>

                        <div class="w3-center  w3-col" style="width: 20%">
                            <p class="w3-text-gray">Sentiment</p>
                            @{
                                if(tweet.getTweetSentiment.get(index).contains(":-)")) {
                                        <i class="fas fa-smile-beam" style="font-size: 30px;
                                        color: green;"></i>
                                }else if(tweet.getTweetSentiment.get(index).contains(":-(")) {
                                        <i class="fas fa-frown" style="font-size: 30px;
                                    color: red;"></i>
                                }else {
                                        <i class="fas fa-meh" style="font-size: 30px;
                                        color: orange;"></i>
                                }
                            }
                        </div>

                    </div>

                </div>
            }

        }

    }

    </section>

}